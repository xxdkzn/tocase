# User Guide

Welcome to the Telegram NFT Case Opener! This guide will help you understand how to use the Mini App to open cases, collect NFTs, and manage your inventory.

## Table of Contents

1. [Getting Started](#getting-started)
2. [Opening Cases](#opening-cases)
3. [Understanding the Provably Fair System](#understanding-the-provably-fair-system)
4. [Managing Your Inventory](#managing-your-inventory)
5. [Viewing Your Profile](#viewing-your-profile)
6. [Opening History](#opening-history)
7. [Level and Experience System](#level-and-experience-system)
8. [Settings](#settings)
9. [FAQ](#faq)

---

## Getting Started

### Accessing the App

1. Open Telegram and find your bot (search for `@your_bot_username`)
2. Send `/start` command or click the "Start" button
3. Click the "Open App" button in the menu
4. The Mini App will load automatically

### First Time Setup

When you first open the app:
- Your Telegram account is automatically authenticated
- You receive a starting balance (typically 1000 coins)
- You start at Level 1 with 0 experience points

### Navigation

The app has a bottom navigation bar with four sections:

- **Home** üè†: Browse and open cases
- **Inventory** üéí: View your collected NFTs
- **Profile** üë§: See your stats and level
- **History** üìú: Review past case openings

---

## Opening Cases

### Browsing Cases

On the Home page, you'll see all available cases:

- **Case Name**: The name of the case
- **Price**: Cost in coins to open
- **Description**: What types of NFTs you can win
- **Image**: Visual representation of the case

### How to Open a Case

1. **Select a Case**: Tap on any case card to view details
2. **Review Contents**: See all possible NFTs and their drop rates
3. **Check Your Balance**: Ensure you have enough coins
4. **Open the Case**: Tap the "Open Case" button
5. **Watch the Animation**: Enjoy the opening animation
6. **Receive Your NFT**: The won NFT is added to your inventory

### Opening Animation

When you open a case:
- A spinning animation shows all possible NFTs
- The animation slows down as it approaches your result
- Confetti celebrates rare wins (Epic and Legendary)
- Sound effects and haptic feedback enhance the experience
- Your new NFT is displayed with its details

### Case Types

Different cases offer different NFT pools and rarities:

- **Bronze Case** (100 coins): Common NFTs, occasional rare finds
- **Silver Case** (250 coins): Better odds for uncommon and rare NFTs
- **Gold Case** (500 coins): High chance of rare and epic NFTs
- **Diamond Case** (1000 coins): Best odds for epic and legendary NFTs

---

## Understanding the Provably Fair System

### What is Provably Fair?

The provably fair system ensures that case openings are:
- **Transparent**: You can verify every result
- **Fair**: Results cannot be manipulated
- **Random**: True randomness using cryptographic methods

### How It Works

Each case opening uses three components:

1. **Server Seed**: Generated by the server (kept secret until after opening)
2. **Client Seed**: Generated by your device
3. **Nonce**: A counter that increments with each opening

These are combined using HMAC-SHA256 to generate a provably random result.

### Verifying Results

After opening a case:

1. Go to the **Verification** page (link in opening result)
2. You'll see:
   - Server Seed (revealed after opening)
   - Client Seed (your device's seed)
   - Nonce (opening counter)
   - Hashed Server Seed (proof server didn't change it)
3. Click "Verify Result" to confirm fairness
4. The system recalculates the result and confirms it matches

### Why This Matters

- The server cannot manipulate results because the server seed is hashed before opening
- You can verify any opening at any time
- Complete transparency builds trust

---

## Managing Your Inventory

### Viewing Your Inventory

Navigate to the **Inventory** tab to see all your NFTs:

- **NFT Image**: Visual representation
- **NFT Name**: Unique identifier
- **Rarity**: Common, Uncommon, Rare, Epic, or Legendary
- **Value**: Base value in coins
- **Acquired Date**: When you won it

### Rarity Levels

NFTs come in five rarity tiers:

| Rarity | Color | Typical Value | Drop Rate |
|--------|-------|---------------|-----------|
| Common | Gray | 50-100 | 40-50% |
| Uncommon | Green | 100-250 | 25-35% |
| Rare | Blue | 250-500 | 15-20% |
| Epic | Purple | 500-1000 | 5-10% |
| Legendary | Gold | 1000+ | 1-5% |

### Selling NFTs

To convert NFTs to coins:

1. Open your **Inventory**
2. Tap on the NFT you want to sell
3. Click "Sell" button
4. Confirm the sale
5. Receive 80% of the NFT's value in coins

**Note**: You receive 80% of the listed value (20% platform fee)

**Example**:
- NFT Value: 500 coins
- Sell Price: 400 coins (80%)

### Inventory Tips

- Keep rare NFTs for collection purposes
- Sell duplicate common NFTs to open more cases
- Check NFT values before selling
- Higher rarity = higher value

---

## Viewing Your Profile

### Profile Information

The **Profile** page shows:

- **Username**: Your Telegram username
- **Balance**: Current coin balance
- **Level**: Your current level
- **Experience**: XP progress to next level
- **Total Opened**: Number of cases opened
- **Member Since**: Account creation date

### Balance

Your balance is used to:
- Open cases (costs vary by case type)
- Track your wealth

You can increase your balance by:
- Selling NFTs from inventory
- Receiving gifts from admin (special events)

### Statistics

Track your progress:
- **Total Cases Opened**: Lifetime case openings
- **Total NFTs Collected**: All NFTs ever won
- **Rarest NFT**: Your most valuable NFT
- **Win Rate by Rarity**: Percentage of each rarity won

---

## Opening History

### Viewing History

The **History** page shows all your past case openings:

- **Case Name**: Which case you opened
- **NFT Won**: What you received
- **Rarity**: NFT rarity level
- **Value**: NFT value at time of opening
- **Date & Time**: When you opened it

### Filtering History

Filter your history by:
- **All**: Show all openings
- **Common**: Only common NFTs
- **Uncommon**: Only uncommon NFTs
- **Rare**: Only rare NFTs
- **Epic**: Only epic NFTs
- **Legendary**: Only legendary NFTs

### Pagination

History is paginated (10 items per page):
- Use "Previous" and "Next" buttons to navigate
- Current page number is displayed
- Total number of openings shown

### Exporting History

(Future feature) Export your history as:
- CSV file for spreadsheet analysis
- JSON for data processing

---

## Level and Experience System

### How Leveling Works

You gain experience (XP) by:
- **Opening Cases**: +10 XP per opening
- **Rare Wins**: Bonus XP for rare NFTs
- **Daily Login**: +5 XP (future feature)

### Level Benefits

Higher levels unlock:
- **Better Drop Rates**: Slightly improved odds
- **Exclusive Cases**: Access to premium cases
- **Bonus Balance**: Periodic coin rewards
- **Special Badges**: Show off your status

### Experience Requirements

| Level | Total XP Required | XP to Next Level |
|-------|-------------------|------------------|
| 1 | 0 | 100 |
| 2 | 100 | 150 |
| 3 | 250 | 200 |
| 4 | 450 | 250 |
| 5 | 700 | 300 |
| 10 | 2,500 | 500 |
| 20 | 10,000 | 1,000 |

### Level Up Notifications

When you level up:
- Confetti animation celebrates
- Notification shows new level
- Bonus rewards are granted
- New features may unlock

---

## Settings

### Sound Effects

Control audio feedback:
- **Enable/Disable**: Toggle sound on/off
- **Volume**: Adjust sound level (future feature)

Sound effects include:
- Case opening whoosh
- Rarity reveal sounds
- Win celebration
- Button clicks

### Haptic Feedback

Control vibration feedback:
- **Enable/Disable**: Toggle haptics on/off
- **Intensity**: Adjust vibration strength (future feature)

Haptic feedback occurs:
- When opening cases
- On rare wins (stronger vibration)
- Button interactions
- Level up celebrations

### Language

(Future feature) Select your preferred language:
- English
- Russian
- Spanish
- More coming soon

### Notifications

(Future feature) Control Telegram notifications:
- New case releases
- Special events
- Level up achievements
- Rare NFT wins

---

## FAQ

### General Questions

**Q: How do I get more coins?**
A: Sell NFTs from your inventory or wait for special events where admins may grant bonus coins.

**Q: Can I trade NFTs with other users?**
A: Not currently, but this feature is planned for a future update.

**Q: What happens if I run out of coins?**
A: You can sell NFTs from your inventory to get more coins. If you have no NFTs, contact support for a small starter balance.

**Q: Are the results really random?**
A: Yes! The provably fair system uses cryptographic methods to ensure true randomness. You can verify any result.

### Technical Questions

**Q: Why is the app slow?**
A: The backend may be "sleeping" on free hosting. The first request after inactivity takes ~30 seconds. Subsequent requests are fast.

**Q: I got an error when opening a case. What happened?**
A: Check your balance and internet connection. If the error persists, try refreshing the app. Your balance is only deducted on successful openings.

**Q: Can I use the app on desktop?**
A: The app is optimized for mobile but works on Telegram Desktop. Some features (haptics) are mobile-only.

**Q: Is my data safe?**
A: Yes! We use industry-standard security practices. See [SECURITY.md](./SECURITY.md) for details.

### Account Questions

**Q: How do I delete my account?**
A: Contact the admin via the bot. Account deletion removes all your data per GDPR requirements.

**Q: Can I have multiple accounts?**
A: Each Telegram account can have one app account. Multiple accounts per person are not allowed.

**Q: I was blocked. How do I appeal?**
A: Contact the admin via Telegram. Blocks are typically for abuse/cheating.

### NFT Questions

**Q: What determines NFT value?**
A: NFT values are based on rarity and market data from GetGems. Values update daily.

**Q: Can I see NFT details before opening?**
A: Yes! Tap on any case to see all possible NFTs and their drop rates.

**Q: Why did my NFT value change?**
A: NFT values are updated daily based on real market data. Prices fluctuate naturally.

**Q: Can I withdraw NFTs to my wallet?**
A: Not currently. This is a gamified experience. Real NFT withdrawal may be added in the future.

### Provably Fair Questions

**Q: How do I verify a result?**
A: After opening, click "Verify" on the result screen. Enter the seeds and nonce to verify.

**Q: What if verification fails?**
A: Contact support immediately with the opening ID. Failed verification is taken very seriously.

**Q: Can the server cheat?**
A: No. The server seed is hashed before opening, proving it wasn't changed after seeing your client seed.

---

## Tips for Success

1. **Start Small**: Open cheaper cases first to build your balance
2. **Sell Wisely**: Keep rare NFTs, sell common duplicates
3. **Verify Results**: Occasionally verify openings to ensure fairness
4. **Track Progress**: Use history to analyze your luck
5. **Level Up**: Open cases regularly to gain XP and unlock benefits
6. **Budget**: Don't spend all your coins at once
7. **Enjoy**: It's a game! Have fun collecting NFTs

---

## Support

Need help?

1. **In-App Help**: Tap the "?" icon in the app
2. **Bot Commands**: Send `/help` to the bot
3. **Contact Admin**: Use `/admin` command (if available)
4. **Documentation**: Read [API_DOCUMENTATION.md](./API_DOCUMENTATION.md)

---

## Updates and New Features

Stay tuned for upcoming features:
- NFT trading between users
- Leaderboards and competitions
- Special event cases
- Achievement system
- Referral rewards
- Real NFT withdrawal

Follow the bot's channel for announcements!

---

**Enjoy opening cases and collecting NFTs! üéÅ‚ú®**
